{"version":3,"file":"hono-timeout.mjs","sources":["../../node_modules/hono/dist/middleware/timeout/index.js"],"sourcesContent":["// src/middleware/timeout/index.ts\nimport { HTTPException } from \"../../http-exception.js\";\nvar defaultTimeoutException = new HTTPException(504, {\n  message: \"Gateway Timeout\"\n});\nvar timeout = (duration, exception = defaultTimeoutException) => {\n  return async function timeout2(context, next) {\n    let timer;\n    const timeoutPromise = new Promise((_, reject) => {\n      timer = setTimeout(() => {\n        reject(typeof exception === \"function\" ? exception(context) : exception);\n      }, duration);\n    });\n    try {\n      await Promise.race([next(), timeoutPromise]);\n    } finally {\n      if (timer !== void 0) {\n        clearTimeout(timer);\n      }\n    }\n  };\n};\nexport {\n  timeout\n};\n"],"names":[],"mappings":";;AAAA;AAEA,IAAI,uBAAuB,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE;AACrD,EAAE,OAAO,EAAE;AACX,CAAC,CAAC;AACC,IAAC,OAAO,GAAG,CAAC,QAAQ,EAAE,SAAS,GAAG,uBAAuB,KAAK;AACjE,EAAE,OAAO,eAAe,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE;AAChD,IAAI,IAAI,KAAK;AACb,IAAI,MAAM,cAAc,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,MAAM,KAAK;AACtD,MAAM,KAAK,GAAG,UAAU,CAAC,MAAM;AAC/B,QAAQ,MAAM,CAAC,OAAO,SAAS,KAAK,UAAU,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC;AAChF,MAAM,CAAC,EAAE,QAAQ,CAAC;AAClB,IAAI,CAAC,CAAC;AACN,IAAI,IAAI;AACR,MAAM,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,cAAc,CAAC,CAAC;AAClD,IAAI,CAAC,SAAS;AACd,MAAM,IAAI,KAAK,KAAK,MAAM,EAAE;AAC5B,QAAQ,YAAY,CAAC,KAAK,CAAC;AAC3B,MAAM;AACN,IAAI;AACJ,EAAE,CAAC;AACH;;;;","x_google_ignoreList":[0]}